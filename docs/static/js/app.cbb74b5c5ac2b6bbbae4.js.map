{"version":3,"sources":["webpack:///./src/loaders/OBJLoader.js","webpack:///./src/loaders/DDSLoader.js","webpack:///./src/loaders/MTLLoader.js","webpack:///./src/util.js","webpack:///./src/controls/OrbitControls.js","webpack:///src/model-mixin.vue","webpack:///./src/model-mixin.vue?7656","webpack:///./src/model-mixin.vue","webpack:///src/model-obj.vue","webpack:///./src/model-obj.vue","webpack:///examples/App.vue","webpack:///./examples/App.vue?d8dd","webpack:///./examples/App.vue","webpack:///./examples/index.js"],"names":["object_pattern","material_library_pattern","material_use_pattern","ParserState","state","objects","object","vertices","normals","colors","uvs","materialLibraries","startObject","name","fromDeclaration","previousMaterial","currentMaterial","undefined","_finalize","geometry","materials","smooth","startMaterial","libraries","previous","inherited","groupCount","splice","index","material","length","mtllib","Array","isArray","groupStart","groupEnd","clone","cloned","bind","push","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","value","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","a","b","c","src","dst","addVertexLine","addNormal","addColor","addUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","uvLen","nLen","addLineGeometry","type","vi","l","uvi","OBJLoader","manager","prototype","constructor","load","url","onLoad","onProgress","onError","scope","loader","setPath","path","text","parse","setMaterials","console","time","indexOf","replace","lines","split","line","lineFirstChar","lineLength","result","trimLeft","i","trim","charAt","data","parseFloat","lineData","substr","vertexData","faceVertices","j","jl","vertex","vertexParts","v1","v2","v3","lineParts","substring","lineVertices","lineUVs","li","llen","parts","exec","test","toLowerCase","Error","container","concat","isLine","buffergeometry","addAttribute","computeVertexNormals","createdMaterials","miLen","sourceMaterial","create","materialLine","copy","flatShading","mesh","addGroup","add","timeEnd","DDSLoader","_parser","Object","buffer","loadMipmaps","dds","mipmaps","width","height","format","mipmapCount","DDS_MAGIC","DDSD_CAPS","DDSD_HEIGHT","DDSD_WIDTH","DDSD_PITCH","DDSD_PIXELFORMAT","DDSD_MIPMAPCOUNT","DDSD_LINEARSIZE","DDSD_DEPTH","DDSCAPS_COMPLEX","DDSCAPS_MIPMAP","DDSCAPS_TEXTURE","DDSCAPS2_CUBEMAP","DDSCAPS2_CUBEMAP_POSITIVEX","DDSCAPS2_CUBEMAP_NEGATIVEX","DDSCAPS2_CUBEMAP_POSITIVEY","DDSCAPS2_CUBEMAP_NEGATIVEY","DDSCAPS2_CUBEMAP_POSITIVEZ","DDSCAPS2_CUBEMAP_NEGATIVEZ","DDSCAPS2_VOLUME","DDPF_ALPHAPIXELS","DDPF_ALPHA","DDPF_FOURCC","DDPF_RGB","DDPF_YUV","DDPF_LUMINANCE","fourCCToInt32","charCodeAt","int32ToFourCC","String","fromCharCode","loadARGBMip","dataOffset","dataLength","srcBuffer","Uint8Array","byteArray","y","x","g","r","FOURCC_DXT1","FOURCC_DXT3","FOURCC_DXT5","FOURCC_ETC1","headerLengthInt","off_magic","off_size","off_flags","off_height","off_width","off_mipmapCount","off_pfFlags","off_pfFourCC","off_RGBBitCount","off_RBitMask","off_GBitMask","off_BBitMask","off_ABitMask","off_caps","off_caps2","off_caps3","off_caps4","header","Int32Array","error","blockBytes","fourCC","isRGBAUncompressed","Math","max","caps2","isCubemap","faces","face","mipmap","LoaderHandlers","Handlers","MTLLoader","setTexturePath","texturePath","setBaseUrl","warn","setCrossOrigin","crossOrigin","setMaterialOptions","materialOptions","info","delimiter_pattern","materialsInfo","pos","key","ss","materialCreator","MaterialCreator","setManager","baseUrl","options","materialsArray","nameLookup","side","wrap","convert","converted","mn","mat","covmat","prop","save","lprop","normalizeRGB","ignoreZeroRGBs","preload","getIndex","materialName","getAsArray","createMaterial_","params","resolveURL","setMapForType","mapType","texParams","getTextureParams","map","loadTexture","repeat","scale","offset","wrapS","wrapT","n","color","fromArray","specular","shininess","opacity","transparent","matParams","items","bumpScale","set","join","mapping","texture","get","box","getSize","setFromObject","getCenter","lightsDiff","lights","oldLights","toIndexed","bufferGeometry","rawPositions","getAttribute","array","rawUvs","hasUV","rawNormals","hasNormal","indices","faceNormalss","faceUvs","tmpIndices","v0","n0","n1","n2","uv0","uv1","uv2","z","forEach","v","id","exists","positionBuffer","Float32Array","normalBuffer","uvBuffer","i2","i3","setIndex","Uint32Array","equals","OrbitControls","domElement","document","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","ZOOM","MIDDLE","PAN","target0","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","STATE","NONE","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","min","makeSafe","radius","panOffset","setFromSpherical","lookAt","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","window","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","distance","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","pan","deltaX","deltaY","element","body","targetDistance","tan","fov","clientHeight","matrix","right","left","clientWidth","top","bottom","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","event","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","preventDefault","button","addEventListener","stopPropagation"],"mappings":"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AEA,aAVA;;AAYA;;AAEA;AAEA,aAJA;;AAMA;;AAEA;AAEA,aAJA;;AAMA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AAEA,iBARA,EAQA,cARA,EAQA,OARA;AAUA,aA9BA,MA8BA;;AAEA;AAEA;AAEA;AA/EA;AA9CA,G;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;AADA,G;;ACPA,8BAA0B,aAAa,0BAA0B,wBAAwB,uBAAuB,OAAO,oCAAoC;AAC3J;AACA,qBAAiB;AACjB,4F;;ACHA;AACA;AACA;AACA;AACA;AAC4S;AAC5S;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;ACvBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC","file":"static/js/app.cbb74b5c5ac2b6bbbae4.js","sourcesContent":["import * as THREE from 'three';\n\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/OBJLoader.js\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n// o object_name | g group_name\nvar object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nvar material_library_pattern = /^mtllib /;\n// usemtl material_name\nvar material_use_pattern = /^usemtl /;\n\nfunction ParserState() {\n\n    var state = {\n        objects: [],\n        object: {},\n\n        vertices: [],\n        normals: [],\n        colors: [],\n        uvs: [],\n\n        materialLibraries: [],\n\n        startObject: function ( name, fromDeclaration ) {\n\n            // If the current object (initial from reset) is not from a g/o declaration in the parsed\n            // file. We need to use it for the first parsed g/o to keep things in sync.\n            if ( this.object && this.object.fromDeclaration === false ) {\n\n                this.object.name = name;\n                this.object.fromDeclaration = ( fromDeclaration !== false );\n                return;\n\n            }\n\n            var previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n            if ( this.object && typeof this.object._finalize === 'function' ) {\n\n                this.object._finalize( true );\n\n            }\n\n            this.object = {\n                name: name || '',\n                fromDeclaration: ( fromDeclaration !== false ),\n\n                geometry: {\n                    vertices: [],\n                    normals: [],\n                    colors: [],\n                    uvs: []\n                },\n                materials: [],\n                smooth: true,\n\n                startMaterial: function ( name, libraries ) {\n\n                    var previous = this._finalize( false );\n\n                    // New usemtl declaration overwrites an inherited material, except if faces were declared\n                    // after the material, then it must be preserved for proper MultiMaterial continuation.\n                    if ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n                        this.materials.splice( previous.index, 1 );\n\n                    }\n\n                    var material = {\n                        index: this.materials.length,\n                        name: name || '',\n                        mtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n                        smooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n                        groupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n                        groupEnd: -1,\n                        groupCount: -1,\n                        inherited: false,\n\n                        clone: function ( index ) {\n\n                            var cloned = {\n                                index: ( typeof index === 'number' ? index : this.index ),\n                                name: this.name,\n                                mtllib: this.mtllib,\n                                smooth: this.smooth,\n                                groupStart: 0,\n                                groupEnd: -1,\n                                groupCount: -1,\n                                inherited: false\n                            };\n                            cloned.clone = this.clone.bind( cloned );\n                            return cloned;\n\n                        }\n                    };\n\n                    this.materials.push( material );\n\n                    return material;\n\n                },\n\n                currentMaterial: function () {\n\n                    if ( this.materials.length > 0 ) {\n\n                        return this.materials[ this.materials.length - 1 ];\n\n                    }\n\n                    return undefined;\n\n                },\n\n                _finalize: function ( end ) {\n\n                    var lastMultiMaterial = this.currentMaterial();\n                    if ( lastMultiMaterial && lastMultiMaterial.groupEnd === -1 ) {\n\n                        lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n                        lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n                        lastMultiMaterial.inherited = false;\n\n                    }\n\n                    // Ignore objects tail materials if no face declarations followed them before a new o/g started.\n                    if ( end && this.materials.length > 1 ) {\n\n                        for ( var mi = this.materials.length - 1; mi >= 0; mi-- ) {\n\n                            if ( this.materials[ mi ].groupCount <= 0 ) {\n\n                                this.materials.splice( mi, 1 );\n\n                            }\n\n                        }\n\n                    }\n\n                    // Guarantee at least one empty material, this makes the creation later more straight forward.\n                    if ( end && this.materials.length === 0 ) {\n\n                        this.materials.push( {\n                            name: '',\n                            smooth: this.smooth\n                        } );\n\n                    }\n\n                    return lastMultiMaterial;\n\n                }\n            };\n\n            // Inherit previous objects material.\n            // Spec tells us that a declared material must be set to all objects until a new material is declared.\n            // If a usemtl declaration is encountered while this new object is being parsed, it will\n            // overwrite the inherited material. Exception being that there was already face declarations\n            // to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n            if ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n                var declared = previousMaterial.clone( 0 );\n                declared.inherited = true;\n                this.object.materials.push( declared );\n\n            }\n\n            this.objects.push( this.object );\n\n        },\n\n        finalize: function () {\n\n            if ( this.object && typeof this.object._finalize === 'function' ) {\n\n                this.object._finalize( true );\n\n            }\n\n        },\n\n        parseVertexIndex: function ( value, len ) {\n\n            var index = parseInt( value, 10 );\n            return ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n        },\n\n        parseNormalIndex: function ( value, len ) {\n\n            var index = parseInt( value, 10 );\n            return ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n        },\n\n        parseUVIndex: function ( value, len ) {\n\n            var index = parseInt( value, 10 );\n            return ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n        },\n\n        addVertex: function ( a, b, c ) {\n\n            var src = this.vertices;\n            var dst = this.object.geometry.vertices;\n\n            dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n            dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n            dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n        },\n\n        addVertexLine: function ( a ) {\n\n            var src = this.vertices;\n            var dst = this.object.geometry.vertices;\n\n            dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n        },\n\n        addNormal: function ( a, b, c ) {\n\n            var src = this.normals;\n            var dst = this.object.geometry.normals;\n\n            dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n            dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n            dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n        },\n\n        addColor: function ( a, b, c ) {\n\n            var src = this.colors;\n            var dst = this.object.geometry.colors;\n\n            dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n            dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n            dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n        },\n\n        addUV: function ( a, b, c ) {\n\n            var src = this.uvs;\n            var dst = this.object.geometry.uvs;\n\n            dst.push( src[ a + 0 ], src[ a + 1 ] );\n            dst.push( src[ b + 0 ], src[ b + 1 ] );\n            dst.push( src[ c + 0 ], src[ c + 1 ] );\n\n        },\n\n        addUVLine: function ( a ) {\n\n            var src = this.uvs;\n            var dst = this.object.geometry.uvs;\n\n            dst.push( src[ a + 0 ], src[ a + 1 ] );\n\n        },\n\n        addFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n            var vLen = this.vertices.length;\n\n            var ia = this.parseVertexIndex( a, vLen );\n            var ib = this.parseVertexIndex( b, vLen );\n            var ic = this.parseVertexIndex( c, vLen );\n\n            this.addVertex( ia, ib, ic );\n\n            if ( ua !== undefined ) {\n\n                var uvLen = this.uvs.length;\n\n                ia = this.parseUVIndex( ua, uvLen );\n                ib = this.parseUVIndex( ub, uvLen );\n                ic = this.parseUVIndex( uc, uvLen );\n\n                this.addUV( ia, ib, ic );\n\n            }\n\n            if ( na !== undefined ) {\n\n                // Normals are many times the same. If so, skip function call and parseInt.\n                var nLen = this.normals.length;\n                ia = this.parseNormalIndex( na, nLen );\n\n                ib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\n                ic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\n\n                this.addNormal( ia, ib, ic );\n\n            }\n\n            if ( this.colors.length > 0 ) {\n\n                this.addColor( ia, ib, ic );\n\n            }\n\n        },\n\n        addLineGeometry: function ( vertices, uvs ) {\n\n            this.object.geometry.type = 'Line';\n\n            var vLen = this.vertices.length;\n            var uvLen = this.uvs.length;\n\n            for ( var vi = 0, l = vertices.length; vi < l; vi++ ) {\n\n                this.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n            }\n\n            for ( var uvi = 0, l = uvs.length; uvi < l; uvi++ ) {\n\n                this.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n            }\n\n        }\n\n    };\n\n    state.startObject( '', false );\n\n    return state;\n\n}\n\n//\n\nfunction OBJLoader( manager ) {\n\n    this.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n    this.materials = null;\n\n}\n\nOBJLoader.prototype = {\n\n    constructor: OBJLoader,\n\n    load: function ( url, onLoad, onProgress, onError ) {\n\n        var scope = this;\n\n        var loader = new THREE.FileLoader( scope.manager );\n        loader.setPath( this.path );\n        loader.load( url, function ( text ) {\n\n            onLoad( scope.parse( text ) );\n\n        }, onProgress, onError );\n\n    },\n\n    setPath: function ( value ) {\n\n        this.path = value;\n\n    },\n\n    setMaterials: function ( materials ) {\n\n        this.materials = materials;\n\n        return this;\n\n    },\n\n    parse: function ( text ) {\n\n        console.time( 'OBJLoader' );\n\n        var state = new ParserState();\n\n        if ( text.indexOf( '\\r\\n' ) !== -1 ) {\n\n            // This is faster than String.split with regex that splits on both\n            text = text.replace( /\\r\\n/g, '\\n' );\n\n        }\n\n        if ( text.indexOf( '\\\\\\n' ) !== -1 ) {\n\n            // join lines separated by a line continuation character (\\)\n            text = text.replace( /\\\\\\n/g, '' );\n\n        }\n\n        var lines = text.split( '\\n' );\n        var line = '', lineFirstChar = '';\n        var lineLength = 0;\n        var result = [];\n\n        // Faster to just trim left side of the line. Use if available.\n        var trimLeft = ( typeof ''.trimLeft === 'function' );\n\n        for ( var i = 0, l = lines.length; i < l; i++ ) {\n\n            line = lines[ i ];\n\n            line = trimLeft ? line.trimLeft() : line.trim();\n\n            lineLength = line.length;\n\n            if ( lineLength === 0 ) continue;\n\n            lineFirstChar = line.charAt( 0 );\n\n            // @todo invoke passed in handler if any\n            if ( lineFirstChar === '#' ) continue;\n\n            if ( lineFirstChar === 'v' ) {\n\n                var data = line.split( /\\s+/ );\n\n                switch ( data[ 0 ] ) {\n\n                    case 'v':\n                        state.vertices.push(\n                            parseFloat( data[ 1 ] ),\n                            parseFloat( data[ 2 ] ),\n                            parseFloat( data[ 3 ] )\n                        );\n                        if ( data.length === 8 ) {\n\n                            state.colors.push(\n                                parseFloat( data[ 4 ] ),\n                                parseFloat( data[ 5 ] ),\n                                parseFloat( data[ 6 ] )\n\n                            );\n\n                        }\n                        break;\n                    case 'vn':\n                        state.normals.push(\n                            parseFloat( data[ 1 ] ),\n                            parseFloat( data[ 2 ] ),\n                            parseFloat( data[ 3 ] )\n                        );\n                        break;\n                    case 'vt':\n                        state.uvs.push(\n                            parseFloat( data[ 1 ] ),\n                            parseFloat( data[ 2 ] )\n                        );\n                        break;\n\n                }\n\n            } else if ( lineFirstChar === 'f' ) {\n\n                var lineData = line.substr( 1 ).trim();\n                var vertexData = lineData.split( /\\s+/ );\n                var faceVertices = [];\n\n                // Parse the face vertex data into an easy to work with format\n\n                for ( var j = 0, jl = vertexData.length; j < jl; j++ ) {\n\n                    var vertex = vertexData[ j ];\n\n                    if ( vertex.length > 0 ) {\n\n                        var vertexParts = vertex.split( '/' );\n                        faceVertices.push( vertexParts );\n\n                    }\n\n                }\n\n                // Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n                var v1 = faceVertices[ 0 ];\n\n                for ( var j = 1, jl = faceVertices.length - 1; j < jl; j++ ) {\n\n                    var v2 = faceVertices[ j ];\n                    var v3 = faceVertices[ j + 1 ];\n\n                    state.addFace(\n                        v1[ 0 ], v2[ 0 ], v3[ 0 ],\n                        v1[ 1 ], v2[ 1 ], v3[ 1 ],\n                        v1[ 2 ], v2[ 2 ], v3[ 2 ]\n                    );\n\n                }\n\n            } else if ( lineFirstChar === 'l' ) {\n\n                var lineParts = line.substring( 1 ).trim().split( ' ' );\n                var lineVertices = [], lineUVs = [];\n\n                if ( line.indexOf( '/' ) === -1 ) {\n\n                    lineVertices = lineParts;\n\n                } else {\n\n                    for ( var li = 0, llen = lineParts.length; li < llen; li++ ) {\n\n                        var parts = lineParts[ li ].split( '/' );\n\n                        if ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n                        if ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n                    }\n\n                }\n                state.addLineGeometry( lineVertices, lineUVs );\n\n            } else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n                // o object_name\n                // or\n                // g group_name\n\n                // WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n                // var name = result[ 0 ].substr( 1 ).trim();\n                var name = ( ' ' + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n                state.startObject( name );\n\n            } else if ( material_use_pattern.test( line ) ) {\n\n                // material\n\n                state.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n            } else if ( material_library_pattern.test( line ) ) {\n\n                // mtl file\n\n                state.materialLibraries.push( line.substring( 7 ).trim() );\n\n            } else if ( lineFirstChar === 's' ) {\n\n                result = line.split( ' ' );\n\n                // smooth shading\n\n                // @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n                // but does not define a usemtl for each face set.\n                // This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n                // This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n                // where explicit usemtl defines geometry groups.\n                // Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n                /*\n                 * http://paulbourke.net/dataformats/obj/\n                 * or\n                 * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n                 *\n                 * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n                 * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n                 * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n                 * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n                 * than 0.\"\n                 */\n                if ( result.length > 1 ) {\n\n                    var value = result[ 1 ].trim().toLowerCase();\n                    state.object.smooth = ( value !== '0' && value !== 'off' );\n\n                } else {\n\n                    // ZBrush can produce \"s\" lines #11707\n                    state.object.smooth = true;\n\n                }\n                var material = state.object.currentMaterial();\n                if ( material ) material.smooth = state.object.smooth;\n\n            } else {\n\n                // Handle null terminated files without exception\n                if ( line === '\\0' ) continue;\n\n                throw new Error( 'OBJLoader: Unexpected line: \"' + line + '\"' );\n\n            }\n\n        }\n\n        state.finalize();\n\n        var container = new THREE.Group();\n        container.materialLibraries = [].concat( state.materialLibraries );\n\n        for ( var i = 0, l = state.objects.length; i < l; i++ ) {\n\n            var object = state.objects[ i ];\n            var geometry = object.geometry;\n            var materials = object.materials;\n            var isLine = ( geometry.type === 'Line' );\n\n            // Skip o/g line declarations that did not follow with any faces\n            if ( geometry.vertices.length === 0 ) continue;\n\n            var buffergeometry = new THREE.BufferGeometry();\n\n            buffergeometry.addAttribute( 'position', new THREE.Float32BufferAttribute( geometry.vertices, 3 ) );\n\n            if ( geometry.normals.length > 0 ) {\n\n                buffergeometry.addAttribute( 'normal', new THREE.Float32BufferAttribute( geometry.normals, 3 ) );\n\n            } else {\n\n                buffergeometry.computeVertexNormals();\n\n            }\n\n            if ( geometry.colors.length > 0 ) {\n\n                buffergeometry.addAttribute( 'color', new THREE.Float32BufferAttribute( geometry.colors, 3 ) );\n\n            }\n\n            if ( geometry.uvs.length > 0 ) {\n\n                buffergeometry.addAttribute( 'uv', new THREE.Float32BufferAttribute( geometry.uvs, 2 ) );\n\n            }\n\n            // Create materials\n\n            var createdMaterials = [];\n\n            for ( var mi = 0, miLen = materials.length; mi < miLen; mi++ ) {\n\n                var sourceMaterial = materials[ mi ];\n                var material = undefined;\n\n                if ( this.materials !== null ) {\n\n                    material = this.materials.create( sourceMaterial.name );\n\n                    // mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n                    if ( isLine && material && !( material instanceof THREE.LineBasicMaterial ) ) {\n\n                        var materialLine = new THREE.LineBasicMaterial();\n                        materialLine.copy( material );\n                        material = materialLine;\n\n                    }\n\n                }\n\n                if ( !material ) {\n\n                    material = ( !isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial() );\n                    material.name = sourceMaterial.name;\n\n                }\n\n                material.flatShading = !sourceMaterial.smooth;\n\n                createdMaterials.push( material );\n\n            }\n\n            // Create mesh\n\n            var mesh;\n\n            if ( createdMaterials.length > 1 ) {\n\n                for ( var mi = 0, miLen = materials.length; mi < miLen; mi++ ) {\n\n                    var sourceMaterial = materials[ mi ];\n                    buffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n                }\n\n                mesh = ( !isLine ? new THREE.Mesh( buffergeometry, createdMaterials ) : new THREE.LineSegments( buffergeometry, createdMaterials ) );\n\n            } else {\n\n                mesh = ( !isLine ? new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] ) : new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] ) );\n\n            }\n\n            mesh.name = object.name;\n\n            container.add( mesh );\n\n        }\n\n        console.timeEnd( 'OBJLoader' );\n\n        return container;\n\n    }\n\n};\n\nexport { OBJLoader };\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/OBJLoader.js","import * as THREE from 'three';\n\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/OBJLoader.js\n\nconst DDSLoader = function () {\n\n    this._parser = DDSLoader.parse;\n\n};\n\nDDSLoader.prototype = Object.create( THREE.CompressedTextureLoader.prototype );\nDDSLoader.prototype.constructor = DDSLoader;\n\nDDSLoader.parse = function ( buffer, loadMipmaps ) {\n\n    var dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\n\n    // Adapted from @toji's DDS utils\n    // https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\n\n    // All values and structures referenced from:\n    // http://msdn.microsoft.com/en-us/library/bb943991.aspx/\n\n    var DDS_MAGIC = 0x20534444;\n\n    var DDSD_CAPS = 0x1,\n        DDSD_HEIGHT = 0x2,\n        DDSD_WIDTH = 0x4,\n        DDSD_PITCH = 0x8,\n        DDSD_PIXELFORMAT = 0x1000,\n        DDSD_MIPMAPCOUNT = 0x20000,\n        DDSD_LINEARSIZE = 0x80000,\n        DDSD_DEPTH = 0x800000;\n\n    var DDSCAPS_COMPLEX = 0x8,\n        DDSCAPS_MIPMAP = 0x400000,\n        DDSCAPS_TEXTURE = 0x1000;\n\n    var DDSCAPS2_CUBEMAP = 0x200,\n        DDSCAPS2_CUBEMAP_POSITIVEX = 0x400,\n        DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800,\n        DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000,\n        DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000,\n        DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000,\n        DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000,\n        DDSCAPS2_VOLUME = 0x200000;\n\n    var DDPF_ALPHAPIXELS = 0x1,\n        DDPF_ALPHA = 0x2,\n        DDPF_FOURCC = 0x4,\n        DDPF_RGB = 0x40,\n        DDPF_YUV = 0x200,\n        DDPF_LUMINANCE = 0x20000;\n\n    function fourCCToInt32( value ) {\n\n        return value.charCodeAt( 0 ) +\n            ( value.charCodeAt( 1 ) << 8 ) +\n            ( value.charCodeAt( 2 ) << 16 ) +\n            ( value.charCodeAt( 3 ) << 24 );\n\n    }\n\n    function int32ToFourCC( value ) {\n\n        return String.fromCharCode(\n            value & 0xff,\n            ( value >> 8 ) & 0xff,\n            ( value >> 16 ) & 0xff,\n            ( value >> 24 ) & 0xff\n        );\n\n    }\n\n    function loadARGBMip( buffer, dataOffset, width, height ) {\n\n        var dataLength = width * height * 4;\n        var srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\n        var byteArray = new Uint8Array( dataLength );\n        var dst = 0;\n        var src = 0;\n        for ( var y = 0; y < height; y++ ) {\n\n            for ( var x = 0; x < width; x++ ) {\n\n                var b = srcBuffer[ src ]; src++;\n                var g = srcBuffer[ src ]; src++;\n                var r = srcBuffer[ src ]; src++;\n                var a = srcBuffer[ src ]; src++;\n                byteArray[ dst ] = r; dst++;    // r\n                byteArray[ dst ] = g; dst++;    // g\n                byteArray[ dst ] = b; dst++;    // b\n                byteArray[ dst ] = a; dst++;    // a\n\n            }\n\n        }\n        return byteArray;\n\n    }\n\n    var FOURCC_DXT1 = fourCCToInt32( 'DXT1' );\n    var FOURCC_DXT3 = fourCCToInt32( 'DXT3' );\n    var FOURCC_DXT5 = fourCCToInt32( 'DXT5' );\n    var FOURCC_ETC1 = fourCCToInt32( 'ETC1' );\n\n    var headerLengthInt = 31; // The header length in 32 bit ints\n\n    // Offsets into the header array\n\n    var off_magic = 0;\n\n    var off_size = 1;\n    var off_flags = 2;\n    var off_height = 3;\n    var off_width = 4;\n\n    var off_mipmapCount = 7;\n\n    var off_pfFlags = 20;\n    var off_pfFourCC = 21;\n    var off_RGBBitCount = 22;\n    var off_RBitMask = 23;\n    var off_GBitMask = 24;\n    var off_BBitMask = 25;\n    var off_ABitMask = 26;\n\n    var off_caps = 27;\n    var off_caps2 = 28;\n    var off_caps3 = 29;\n    var off_caps4 = 30;\n\n    // Parse header\n\n    var header = new Int32Array( buffer, 0, headerLengthInt );\n\n    if ( header[ off_magic ] !== DDS_MAGIC ) {\n\n        console.error( 'DDSLoader.parse: Invalid magic number in DDS header.' );\n        return dds;\n\n    }\n\n    if ( !header[ off_pfFlags ] & DDPF_FOURCC ) {\n\n        console.error( 'DDSLoader.parse: Unsupported format, must contain a FourCC code.' );\n        return dds;\n\n    }\n\n    var blockBytes;\n\n    var fourCC = header[ off_pfFourCC ];\n\n    var isRGBAUncompressed = false;\n\n    switch ( fourCC ) {\n\n        case FOURCC_DXT1:\n\n            blockBytes = 8;\n            dds.format = THREE.RGB_S3TC_DXT1_Format;\n            break;\n\n        case FOURCC_DXT3:\n\n            blockBytes = 16;\n            dds.format = THREE.RGBA_S3TC_DXT3_Format;\n            break;\n\n        case FOURCC_DXT5:\n\n            blockBytes = 16;\n            dds.format = THREE.RGBA_S3TC_DXT5_Format;\n            break;\n\n        case FOURCC_ETC1:\n\n            blockBytes = 8;\n            dds.format = THREE.RGB_ETC1_Format;\n            break;\n\n        default:\n\n            if ( header[ off_RGBBitCount ] === 32 &&\n                header[ off_RBitMask ] & 0xff0000 &&\n                header[ off_GBitMask ] & 0xff00 &&\n                header[ off_BBitMask ] & 0xff &&\n                header[ off_ABitMask ] & 0xff000000 ) {\n\n                isRGBAUncompressed = true;\n                blockBytes = 64;\n                dds.format = THREE.RGBAFormat;\n\n            } else {\n\n                console.error( 'DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\n                return dds;\n\n            }\n    }\n\n    dds.mipmapCount = 1;\n\n    if ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\n\n        dds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\n\n    }\n\n    var caps2 = header[ off_caps2 ];\n    dds.isCubemap = !!( caps2 & DDSCAPS2_CUBEMAP );\n    if ( dds.isCubemap && (\n        !( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\n        !( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\n        !( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\n        !( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\n        !( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\n        !( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\n    ) ) {\n\n        console.error( 'DDSLoader.parse: Incomplete cubemap faces' );\n        return dds;\n\n    }\n\n    dds.width = header[ off_width ];\n    dds.height = header[ off_height ];\n\n    var dataOffset = header[ off_size ] + 4;\n\n    // Extract mipmaps buffers\n\n    var faces = dds.isCubemap ? 6 : 1;\n\n    for ( var face = 0; face < faces; face++ ) {\n\n        var width = dds.width;\n        var height = dds.height;\n\n        for ( var i = 0; i < dds.mipmapCount; i++ ) {\n\n            if ( isRGBAUncompressed ) {\n\n                var byteArray = loadARGBMip( buffer, dataOffset, width, height );\n                var dataLength = byteArray.length;\n\n            } else {\n\n                var dataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\n                var byteArray = new Uint8Array( buffer, dataOffset, dataLength );\n\n            }\n\n            var mipmap = { 'data': byteArray, 'width': width, 'height': height };\n            dds.mipmaps.push( mipmap );\n\n            dataOffset += dataLength;\n\n            width = Math.max( width >> 1, 1 );\n            height = Math.max( height >> 1, 1 );\n\n        }\n\n    }\n\n    return dds;\n\n};\n\nexport { DDSLoader };\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/DDSLoader.js","import * as THREE from 'three';\nimport { DDSLoader } from './DDSLoader'\n\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/MTLLoader.js\n\nconst LoaderHandlers = THREE.Loader.Handlers;\nLoaderHandlers.add( /\\.dds$/i, new DDSLoader() );\n\nconst MTLLoader = function ( manager ) {\n\n    this.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nMTLLoader.prototype = {\n\n    constructor: MTLLoader,\n\n    /**\n     * Loads and parses a MTL asset from a URL.\n     *\n     * @param {String} url - URL to the MTL file.\n     * @param {Function} [onLoad] - Callback invoked with the loaded object.\n     * @param {Function} [onProgress] - Callback for download progress.\n     * @param {Function} [onError] - Callback for download errors.\n     *\n     * @see setPath setTexturePath\n     *\n     * @note In order for relative texture references to resolve correctly\n     * you must call setPath and/or setTexturePath explicitly prior to load.\n     */\n    load: function ( url, onLoad, onProgress, onError ) {\n\n        var scope = this;\n\n        var loader = new THREE.FileLoader( this.manager );\n        loader.setPath( this.path );\n        loader.load( url, function ( text ) {\n\n            onLoad( scope.parse( text ) );\n\n        }, onProgress, onError );\n\n    },\n\n    /**\n     * Set base path for resolving references.\n     * If set this path will be prepended to each loaded and found reference.\n     *\n     * @see setTexturePath\n     * @param {String} path\n     *\n     * @example\n     *     mtlLoader.setPath( 'assets/obj/' );\n     *     mtlLoader.load( 'my.mtl', ... );\n     */\n    setPath: function ( path ) {\n\n        this.path = path;\n\n    },\n\n    /**\n     * Set base path for resolving texture references.\n     * If set this path will be prepended found texture reference.\n     * If not set and setPath is, it will be used as texture base path.\n     *\n     * @see setPath\n     * @param {String} path\n     *\n     * @example\n     *     mtlLoader.setPath( 'assets/obj/' );\n     *     mtlLoader.setTexturePath( 'assets/textures/' );\n     *     mtlLoader.load( 'my.mtl', ... );\n     */\n    setTexturePath: function ( path ) {\n\n        this.texturePath = path;\n\n    },\n\n    setBaseUrl: function ( path ) {\n\n        console.warn( 'MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.' );\n\n        this.setTexturePath( path );\n\n    },\n\n    setCrossOrigin: function ( value ) {\n\n        this.crossOrigin = value;\n\n    },\n\n    setMaterialOptions: function ( value ) {\n\n        this.materialOptions = value;\n\n    },\n\n    /**\n     * Parses a MTL file.\n     *\n     * @param {String} text - Content of MTL file\n     * @return {MTLLoader.MaterialCreator}\n     *\n     * @see setPath setTexturePath\n     *\n     * @note In order for relative texture references to resolve correctly\n     * you must call setPath and/or setTexturePath explicitly prior to parse.\n     */\n    parse: function ( text ) {\n\n        var lines = text.split( '\\n' );\n        var info = {};\n        var delimiter_pattern = /\\s+/;\n        var materialsInfo = {};\n\n        for ( var i = 0; i < lines.length; i++ ) {\n\n            var line = lines[ i ];\n            line = line.trim();\n\n            if ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n                // Blank line or comment ignore\n                continue;\n\n            }\n\n            var pos = line.indexOf( ' ' );\n\n            var key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\n            key = key.toLowerCase();\n\n            var value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\n            value = value.trim();\n\n            if ( key === 'newmtl' ) {\n\n                // New material\n\n                info = { name: value };\n                materialsInfo[ value ] = info;\n\n            } else if ( info ) {\n\n                if ( key === 'ka' || key === 'kd' || key === 'ks' ) {\n\n                    var ss = value.split( delimiter_pattern, 3 );\n                    info[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\n\n                } else {\n\n                    info[ key ] = value;\n\n                }\n\n            }\n\n        }\n\n        var materialCreator = new MTLLoader.MaterialCreator( this.texturePath || this.path, this.materialOptions );\n        materialCreator.setCrossOrigin( this.crossOrigin );\n        materialCreator.setManager( this.manager );\n        materialCreator.setMaterials( materialsInfo );\n        return materialCreator;\n\n    }\n\n};\n\n/**\n * Create a new THREE-MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        THREE.FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        THREE.RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n * @constructor\n */\n\nMTLLoader.MaterialCreator = function ( baseUrl, options ) {\n\n    this.baseUrl = baseUrl || '';\n    this.options = options;\n    this.materialsInfo = {};\n    this.materials = {};\n    this.materialsArray = [];\n    this.nameLookup = {};\n\n    this.side = ( this.options && this.options.side ) ? this.options.side : THREE.FrontSide;\n    this.wrap = ( this.options && this.options.wrap ) ? this.options.wrap : THREE.RepeatWrapping;\n\n};\n\nMTLLoader.MaterialCreator.prototype = {\n\n    constructor: MTLLoader.MaterialCreator,\n\n    crossOrigin: 'Anonymous',\n\n    setCrossOrigin: function ( value ) {\n\n        this.crossOrigin = value;\n\n    },\n\n    setManager: function ( value ) {\n\n        this.manager = value;\n\n    },\n\n    setMaterials: function ( materialsInfo ) {\n\n        this.materialsInfo = this.convert( materialsInfo );\n        this.materials = {};\n        this.materialsArray = [];\n        this.nameLookup = {};\n\n    },\n\n    convert: function ( materialsInfo ) {\n\n        if ( !this.options ) return materialsInfo;\n\n        var converted = {};\n\n        for ( var mn in materialsInfo ) {\n\n            // Convert materials info into normalized form based on options\n\n            var mat = materialsInfo[ mn ];\n\n            var covmat = {};\n\n            converted[ mn ] = covmat;\n\n            for ( var prop in mat ) {\n\n                var save = true;\n                var value = mat[ prop ];\n                var lprop = prop.toLowerCase();\n\n                switch ( lprop ) {\n\n                    case 'kd':\n                    case 'ka':\n                    case 'ks':\n\n                        // Diffuse color (color under white light) using RGB values\n\n                        if ( this.options && this.options.normalizeRGB ) {\n\n                            value = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\n\n                        }\n\n                        if ( this.options && this.options.ignoreZeroRGBs ) {\n\n                            if ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\n\n                                // ignore\n\n                                save = false;\n\n                            }\n\n                        }\n\n                        break;\n\n                    default:\n\n                        break;\n\n                }\n\n                if ( save ) {\n\n                    covmat[ lprop ] = value;\n\n                }\n\n            }\n\n        }\n\n        return converted;\n\n    },\n\n    preload: function () {\n\n        for ( var mn in this.materialsInfo ) {\n\n            this.create( mn );\n\n        }\n\n    },\n\n    getIndex: function ( materialName ) {\n\n        return this.nameLookup[ materialName ];\n\n    },\n\n    getAsArray: function () {\n\n        var index = 0;\n\n        for ( var mn in this.materialsInfo ) {\n\n            this.materialsArray[ index ] = this.create( mn );\n            this.nameLookup[ mn ] = index;\n            index++;\n\n        }\n\n        return this.materialsArray;\n\n    },\n\n    create: function ( materialName ) {\n\n        if ( this.materials[ materialName ] === undefined ) {\n\n            this.createMaterial_( materialName );\n\n        }\n\n        return this.materials[ materialName ];\n\n    },\n\n    createMaterial_: function ( materialName ) {\n\n        // Create material\n\n        var scope = this;\n        var mat = this.materialsInfo[ materialName ];\n        var params = {\n\n            name: materialName,\n            side: this.side\n\n        };\n\n        function resolveURL( baseUrl, url ) {\n\n            if ( typeof url !== 'string' || url === '' ) { return ''; }\n\n            // Absolute URL\n            if ( /^https?:\\/\\//i.test( url ) ) return url;\n\n            return baseUrl + url;\n\n        }\n\n        function setMapForType( mapType, value ) {\n\n            if ( params[ mapType ] ) return; // Keep the first encountered texture\n\n            var texParams = scope.getTextureParams( value, params );\n            var map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\n\n            map.repeat.copy( texParams.scale );\n            map.offset.copy( texParams.offset );\n\n            map.wrapS = scope.wrap;\n            map.wrapT = scope.wrap;\n\n            params[ mapType ] = map;\n\n        }\n\n        for ( var prop in mat ) {\n\n            var value = mat[ prop ];\n            var n;\n\n            if ( value === '' ) continue;\n\n            switch ( prop.toLowerCase() ) {\n\n                // Ns is material specular exponent\n\n                case 'kd':\n\n                    // Diffuse color (color under white light) using RGB values\n\n                    params.color = new THREE.Color().fromArray( value );\n\n                    break;\n\n                case 'ks':\n\n                    // Specular color (color when light is reflected from shiny surface) using RGB values\n                    params.specular = new THREE.Color().fromArray( value );\n\n                    break;\n\n                case 'map_kd':\n\n                    // Diffuse texture map\n\n                    setMapForType( 'map', value );\n\n                    break;\n\n                case 'map_ks':\n\n                    // Specular map\n\n                    setMapForType( 'specularMap', value );\n\n                    break;\n\n                case 'norm':\n\n                    setMapForType( 'normalMap', value );\n\n                    break;\n\n                case 'map_bump':\n                case 'bump':\n\n                    // Bump texture map\n\n                    setMapForType( 'bumpMap', value );\n\n                    break;\n\n                case 'ns':\n\n                    // The specular exponent (defines the focus of the specular highlight)\n                    // A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n                    params.shininess = parseFloat( value );\n\n                    break;\n\n                case 'd':\n                    n = parseFloat( value );\n\n                    if ( n < 1 ) {\n\n                        params.opacity = n;\n                        params.transparent = true;\n\n                    }\n\n                    break;\n\n                case 'tr':\n                    n = parseFloat( value );\n\n                    if ( n > 0 ) {\n\n                        params.opacity = 1 - n;\n                        params.transparent = true;\n\n                    }\n\n                    break;\n\n                default:\n                    break;\n\n            }\n\n        }\n\n        this.materials[ materialName ] = new THREE.MeshPhongMaterial( params );\n        return this.materials[ materialName ];\n\n    },\n\n    getTextureParams: function ( value, matParams ) {\n\n        var texParams = {\n\n            scale: new THREE.Vector2( 1, 1 ),\n            offset: new THREE.Vector2( 0, 0 )\n\n         };\n\n        var items = value.split( /\\s+/ );\n        var pos;\n\n        pos = items.indexOf( '-bm' );\n\n        if ( pos >= 0 ) {\n\n            matParams.bumpScale = parseFloat( items[ pos + 1 ] );\n            items.splice( pos, 2 );\n\n        }\n\n        pos = items.indexOf( '-s' );\n\n        if ( pos >= 0 ) {\n\n            texParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n            items.splice( pos, 4 ); // we expect 3 parameters here!\n\n        }\n\n        pos = items.indexOf( '-o' );\n\n        if ( pos >= 0 ) {\n\n            texParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n            items.splice( pos, 4 ); // we expect 3 parameters here!\n\n        }\n\n        texParams.url = items.join( ' ' ).trim();\n        return texParams;\n\n    },\n\n    loadTexture: function ( url, mapping, onLoad, onProgress, onError ) {\n\n        var texture;\n        var loader = LoaderHandlers.get( url );\n        var manager = ( this.manager !== undefined ) ? this.manager : THREE.DefaultLoadingManager;\n\n        if ( loader === null ) {\n\n            loader = new THREE.TextureLoader( manager );\n\n        }\n\n        if ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\n        texture = loader.load( url, onLoad, onProgress, onError );\n\n        if ( mapping !== undefined ) texture.mapping = mapping;\n\n        return texture;\n\n    }\n\n};\n\nexport { MTLLoader };\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/MTLLoader.js","import { Box3, Vector3, Vector2, BufferAttribute } from 'three';\n\nconst box = new Box3();\n\nfunction getSize( object ) {\n\n    box.setFromObject( object );\n\n    return box.getSize();\n}\n\nfunction getCenter( object ) {\n\n    box.setFromObject( object );\n\n    return box.getCenter();\n}\n\nfunction lightsDiff( lights, oldLights ) {\n\n}\n\nfunction toIndexed( bufferGeometry ) {\n\n    const rawPositions = bufferGeometry.getAttribute( 'position' ).array;\n\n    let rawUvs;\n    const hasUV = bufferGeometry.getAttribute( 'uv' ) !== undefined;\n    if ( hasUV ) rawUvs = bufferGeometry.getAttribute( 'uv' ).array;\n\n    let rawNormals;\n    const hasNormal = bufferGeometry.getAttribute( 'normal' ) !== undefined;\n    if ( hasNormal ) rawNormals = bufferGeometry.getAttribute( 'normal' ).array;\n\n    const indices = [];\n    const vertices = [];\n    const normals = [];\n    const uvs = [];\n\n    let face, faceNormalss, faceUvs, tmpIndices;\n\n    const v0 = new Vector3();\n    const v1 = new Vector3();\n    const v2 = new Vector3();\n\n    const n0 = new Vector3();\n    const n1 = new Vector3();\n    const n2 = new Vector3();\n\n    const uv0 = new Vector2();\n    const uv1 = new Vector2();\n    const uv2 = new Vector2();\n\n    for ( let i = 0; i < rawPositions.length; i += 9 ) {\n\n        v0.x = rawPositions[ i ];\n        v0.y = rawPositions[ i + 1 ];\n        v0.z = rawPositions[ i + 2 ];\n\n        v1.x = rawPositions[ i + 3 ];\n        v1.y = rawPositions[ i + 4 ];\n        v1.z = rawPositions[ i + 5 ];\n\n        v2.x = rawPositions[ i + 6 ];\n        v2.y = rawPositions[ i + 7 ];\n        v2.z = rawPositions[ i + 8 ];\n\n        face = [ v0, v1, v2 ];\n\n        if ( hasNormal ) {\n\n            n0.x = rawNormals[ i ];\n            n0.y = rawNormals[ i + 1 ];\n            n0.z = rawNormals[ i + 2 ];\n\n            n1.x = rawNormals[ i + 3 ];\n            n1.y = rawNormals[ i + 4 ];\n            n1.z = rawNormals[ i + 5 ];\n\n            n2.x = rawNormals[ i + 6 ];\n            n2.y = rawNormals[ i + 7 ];\n            n2.z = rawNormals[ i + 8 ];\n\n            faceNormalss = [ n0, n1, n2 ];\n\n        }\n\n        if ( hasUV ) {\n\n            uv0.x = rawUvs[ i ];\n            uv0.y = rawUvs[ i + 1 ];\n\n            uv1.x = rawUvs[ i + 2 ];\n            uv1.y = rawUvs[ i + 3 ];\n\n            uv2.x = rawUvs[ i + 4 ];\n            uv2.y = rawUvs[ i + 5 ];\n\n            faceUvs = [ uv0, uv1, uv2 ];\n\n        }\n\n        tmpIndices = [];\n\n        face.forEach( function ( v, i ) {\n\n            let id = exists( v, vertices );\n            if ( id === -1 ) {\n\n                id = vertices.length;\n                vertices.push( v.clone() );\n\n                if ( hasNormal ) normals.push( faceNormalss[ i ].clone() );\n                if ( hasUV ) uvs.push( faceUvs[ i ].clone() );\n\n            }\n            tmpIndices.push( id );\n\n        } );\n\n        indices.push( tmpIndices[ 0 ], tmpIndices[ 1 ], tmpIndices[ 2 ] );\n\n    }\n\n    const positionBuffer = new Float32Array( vertices.length * 3 );\n\n    let normalBuffer, uvBuffer;\n\n    if ( hasNormal ) normalBuffer = new Float32Array( vertices.length * 3 );\n    if ( hasUV ) uvBuffer = new Float32Array( vertices.length * 2 );\n\n    let i2 = 0;\n    let i3 = 0;\n    for ( let i = 0; i < vertices.length; i++ ) {\n\n        i3 = i * 3;\n\n        positionBuffer[ i3 ] = vertices[ i ].x;\n        positionBuffer[ i3 + 1 ] = vertices[ i ].y;\n        positionBuffer[ i3 + 2 ] = vertices[ i ].z;\n\n        if ( hasNormal ) {\n\n            normalBuffer[ i3 ] = normals[ i ].x;\n            normalBuffer[ i3 + 1 ] = normals[ i ].y;\n            normalBuffer[ i3 + 2 ] = normals[ i ].z;\n\n        }\n\n        if ( hasUV ) {\n\n            i2 = i * 2;\n            uvBuffer[ i2 ] = uvs[ i ].x;\n            uvBuffer[ i2 + 1 ] = uvs[ i ].y;\n\n        }\n\n    }\n\n    bufferGeometry.addAttribute( 'position', new BufferAttribute( positionBuffer, 3 ) );\n    if ( hasNormal ) bufferGeometry.addAttribute( 'normal', new BufferAttribute( normalBuffer, 3 ) );\n    if ( hasUV ) bufferGeometry.addAttribute( 'uv', new BufferAttribute( uvBuffer, 2 ) );\n    bufferGeometry.setIndex( new BufferAttribute( new Uint32Array( indices ), 1 ) );\n    return bufferGeometry;\n\n    function exists( v, vertices ) {\n        for ( let i = 0; i < vertices.length; i++ ) {\n            if ( v.equals( vertices[ i ] ) ) return i;\n        }\n        return -1;\n    }\n}\n\nexport { getSize, getCenter, toIndexed }\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","import * as THREE from 'three';\n\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/controls/OrbitControls.js\n\nconst OrbitControls = function ( object, domElement ) {\n\n    this.object = object;\n\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    // \"target\" sets the location of focus, where the object orbits around\n    this.target = new THREE.Vector3();\n\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // How far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    this.minAzimuthAngle = -Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    this.enableDamping = false;\n    this.dampingFactor = 0.25;\n\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0;\n\n    // Set to false to disable rotating\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0;\n\n    // Set to false to disable panning\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0;    // pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    // Set to false to disable use of the keys\n    this.enableKeys = true;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n    // for reset\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n\n    //\n    // public methods\n    //\n\n    this.getPolarAngle = function () {\n\n        return spherical.phi;\n\n    };\n\n    this.getAzimuthalAngle = function () {\n\n        return spherical.theta;\n\n    };\n\n    this.saveState = function () {\n\n        scope.target0.copy( scope.target );\n        scope.position0.copy( scope.object.position );\n        scope.zoom0 = scope.object.zoom;\n\n    };\n\n    this.reset = function () {\n\n        scope.target.copy( scope.target0 );\n        scope.object.position.copy( scope.position0 );\n        scope.object.zoom = scope.zoom0;\n\n        scope.object.updateProjectionMatrix();\n        scope.dispatchEvent( changeEvent );\n\n        scope.update();\n\n        state = STATE.NONE;\n\n    };\n\n    // this method is exposed, but perhaps it would be better if we can make it private...\n    this.update = ( function () {\n\n        var offset = new THREE.Vector3();\n\n        // so camera.up is the orbit axis\n        var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n        var quatInverse = quat.clone().inverse();\n\n        var lastPosition = new THREE.Vector3();\n        var lastQuaternion = new THREE.Quaternion();\n\n        return function update() {\n\n            var position = scope.object.position;\n\n            offset.copy( position ).sub( scope.target );\n\n            // rotate offset to \"y-axis-is-up\" space\n            offset.applyQuaternion( quat );\n\n            // angle from z-axis around y-axis\n            spherical.setFromVector3( offset );\n\n            if ( scope.autoRotate && state === STATE.NONE ) {\n\n                rotateLeft( getAutoRotationAngle() );\n\n            }\n\n            spherical.theta += sphericalDelta.theta;\n            spherical.phi += sphericalDelta.phi;\n\n            // restrict theta to be between desired limits\n            spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n            // restrict phi to be between desired limits\n            spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n            spherical.makeSafe();\n\n            spherical.radius *= scale;\n\n            // restrict radius to be between desired limits\n            spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n            // move target to panned location\n            scope.target.add( panOffset );\n\n            offset.setFromSpherical( spherical );\n\n            // rotate offset back to \"camera-up-vector-is-up\" space\n            offset.applyQuaternion( quatInverse );\n\n            position.copy( scope.target ).add( offset );\n\n            scope.object.lookAt( scope.target );\n\n            if ( scope.enableDamping === true ) {\n\n                sphericalDelta.theta *= ( 1 - scope.dampingFactor );\n                sphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n            } else {\n\n                sphericalDelta.set( 0, 0, 0 );\n\n            }\n\n            scale = 1;\n            panOffset.set( 0, 0, 0 );\n\n            // update condition is:\n            // min(camera displacement, camera rotation in radians)^2 > EPS\n            // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n            if ( zoomChanged ||\n                lastPosition.distanceToSquared( scope.object.position ) > EPS ||\n                8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n                scope.dispatchEvent( changeEvent );\n\n                lastPosition.copy( scope.object.position );\n                lastQuaternion.copy( scope.object.quaternion );\n                zoomChanged = false;\n\n                return true;\n\n            }\n\n            return false;\n\n        };\n\n    }() );\n\n    this.dispose = function () {\n\n        scope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n        scope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n        scope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n        scope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n        scope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n        scope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n        document.removeEventListener( 'mousemove', onMouseMove, false );\n        document.removeEventListener( 'mouseup', onMouseUp, false );\n\n        window.removeEventListener( 'keydown', onKeyDown, false );\n\n        // scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    };\n\n    //\n    // internals\n    //\n\n    var scope = this;\n\n    var changeEvent = { type: 'change' };\n    var startEvent = { type: 'start' };\n    var endEvent = { type: 'end' };\n\n    var STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n    var state = STATE.NONE;\n\n    var EPS = 0.000001;\n\n    // current position in spherical coordinates\n    var spherical = new THREE.Spherical();\n    var sphericalDelta = new THREE.Spherical();\n\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false;\n\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    function getAutoRotationAngle() {\n\n        return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n    }\n\n    function getZoomScale() {\n\n        return Math.pow( 0.95, scope.zoomSpeed );\n\n    }\n\n    function rotateLeft( angle ) {\n\n        sphericalDelta.theta -= angle;\n\n    }\n\n    function rotateUp( angle ) {\n\n        sphericalDelta.phi -= angle;\n\n    }\n\n    var panLeft = ( function () {\n\n        var v = new THREE.Vector3();\n\n        return function panLeft( distance, objectMatrix ) {\n\n            v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n            v.multiplyScalar( -distance );\n\n            panOffset.add( v );\n\n        };\n\n    }() );\n\n    var panUp = ( function () {\n\n        var v = new THREE.Vector3();\n\n        return function panUp( distance, objectMatrix ) {\n\n            v.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n            v.multiplyScalar( distance );\n\n            panOffset.add( v );\n\n        };\n\n    }() );\n\n    // deltaX and deltaY are in pixels; right and down are positive\n    var pan = ( function () {\n\n        var offset = new THREE.Vector3();\n\n        return function pan( deltaX, deltaY ) {\n\n            var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n            if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n                // perspective\n                var position = scope.object.position;\n                offset.copy( position ).sub( scope.target );\n                var targetDistance = offset.length();\n\n                // half of the fov is center to top of screen\n                targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n                // we actually don't use screenWidth, since perspective camera is fixed to screen height\n                panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n                panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n            } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n                // orthographic\n                panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n                panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n            } else {\n\n                // camera neither orthographic nor perspective\n                console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n                scope.enablePan = false;\n\n            }\n\n        };\n\n    }() );\n\n    function dollyIn( dollyScale ) {\n\n        if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n            scale /= dollyScale;\n\n        } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n            scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n            scope.object.updateProjectionMatrix();\n            zoomChanged = true;\n\n        } else {\n\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n            scope.enableZoom = false;\n\n        }\n\n    }\n\n    function dollyOut( dollyScale ) {\n\n        if ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n            scale *= dollyScale;\n\n        } else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n            scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n            scope.object.updateProjectionMatrix();\n            zoomChanged = true;\n\n        } else {\n\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n            scope.enableZoom = false;\n\n        }\n\n    }\n\n    //\n    // event callbacks - update the object state\n    //\n\n    function handleMouseDownRotate( event ) {\n\n        // console.log( 'handleMouseDownRotate' );\n\n        rotateStart.set( event.clientX, event.clientY );\n\n    }\n\n    function handleMouseDownDolly( event ) {\n\n        // console.log( 'handleMouseDownDolly' );\n\n        dollyStart.set( event.clientX, event.clientY );\n\n    }\n\n    function handleMouseDownPan( event ) {\n\n        // console.log( 'handleMouseDownPan' );\n\n        panStart.set( event.clientX, event.clientY );\n\n    }\n\n    function handleMouseMoveRotate( event ) {\n\n        // console.log( 'handleMouseMoveRotate' );\n\n        rotateEnd.set( event.clientX, event.clientY );\n        rotateDelta.subVectors( rotateEnd, rotateStart );\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        // rotating across whole screen goes 360 degrees around\n        rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n        // rotating up and down along whole screen attempts to go 360, but limited to 180\n        rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n        rotateStart.copy( rotateEnd );\n\n        scope.update();\n\n    }\n\n    function handleMouseMoveDolly( event ) {\n\n        // console.log( 'handleMouseMoveDolly' );\n\n        dollyEnd.set( event.clientX, event.clientY );\n\n        dollyDelta.subVectors( dollyEnd, dollyStart );\n\n        if ( dollyDelta.y > 0 ) {\n\n            dollyIn( getZoomScale() );\n\n        } else if ( dollyDelta.y < 0 ) {\n\n            dollyOut( getZoomScale() );\n\n        }\n\n        dollyStart.copy( dollyEnd );\n\n        scope.update();\n\n    }\n\n    function handleMouseMovePan( event ) {\n\n        // console.log( 'handleMouseMovePan' );\n\n        panEnd.set( event.clientX, event.clientY );\n\n        panDelta.subVectors( panEnd, panStart );\n\n        pan( panDelta.x, panDelta.y );\n\n        panStart.copy( panEnd );\n\n        scope.update();\n\n    }\n\n    function handleMouseUp( event ) {\n\n        // console.log( 'handleMouseUp' );\n\n    }\n\n    function handleMouseWheel( event ) {\n\n        // console.log( 'handleMouseWheel' );\n\n        if ( event.deltaY < 0 ) {\n\n            dollyOut( getZoomScale() );\n\n        } else if ( event.deltaY > 0 ) {\n\n            dollyIn( getZoomScale() );\n\n        }\n\n        scope.update();\n\n    }\n\n    function handleKeyDown( event ) {\n\n        // console.log( 'handleKeyDown' );\n\n        switch ( event.keyCode ) {\n\n            case scope.keys.UP:\n                pan( 0, scope.keyPanSpeed );\n                scope.update();\n                break;\n\n            case scope.keys.BOTTOM:\n                pan( 0, -scope.keyPanSpeed );\n                scope.update();\n                break;\n\n            case scope.keys.LEFT:\n                pan( scope.keyPanSpeed, 0 );\n                scope.update();\n                break;\n\n            case scope.keys.RIGHT:\n                pan( -scope.keyPanSpeed, 0 );\n                scope.update();\n                break;\n\n        }\n\n    }\n\n    function handleTouchStartRotate( event ) {\n\n        // console.log( 'handleTouchStartRotate' );\n\n        rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    }\n\n    function handleTouchStartDolly( event ) {\n\n        // console.log( 'handleTouchStartDolly' );\n\n        var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n        var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n        var distance = Math.sqrt( dx * dx + dy * dy );\n\n        dollyStart.set( 0, distance );\n\n    }\n\n    function handleTouchStartPan( event ) {\n\n        // console.log( 'handleTouchStartPan' );\n\n        panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    }\n\n    function handleTouchMoveRotate( event ) {\n\n        // console.log( 'handleTouchMoveRotate' );\n\n        rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n        rotateDelta.subVectors( rotateEnd, rotateStart );\n\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        // rotating across whole screen goes 360 degrees around\n        rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n        // rotating up and down along whole screen attempts to go 360, but limited to 180\n        rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n        rotateStart.copy( rotateEnd );\n\n        scope.update();\n\n    }\n\n    function handleTouchMoveDolly( event ) {\n\n        // console.log( 'handleTouchMoveDolly' );\n\n        var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n        var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n        var distance = Math.sqrt( dx * dx + dy * dy );\n\n        dollyEnd.set( 0, distance );\n\n        dollyDelta.subVectors( dollyEnd, dollyStart );\n\n        if ( dollyDelta.y > 0 ) {\n\n            dollyOut( getZoomScale() );\n\n        } else if ( dollyDelta.y < 0 ) {\n\n            dollyIn( getZoomScale() );\n\n        }\n\n        dollyStart.copy( dollyEnd );\n\n        scope.update();\n\n    }\n\n    function handleTouchMovePan( event ) {\n\n        // console.log( 'handleTouchMovePan' );\n\n        panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n        panDelta.subVectors( panEnd, panStart );\n\n        pan( panDelta.x, panDelta.y );\n\n        panStart.copy( panEnd );\n\n        scope.update();\n\n    }\n\n    function handleTouchEnd( event ) {\n\n        // console.log( 'handleTouchEnd' );\n\n    }\n\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n    function onMouseDown( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n\n        switch ( event.button ) {\n\n            case scope.mouseButtons.ORBIT:\n\n                if ( scope.enableRotate === false ) return;\n\n                handleMouseDownRotate( event );\n\n                state = STATE.ROTATE;\n\n                break;\n\n            case scope.mouseButtons.ZOOM:\n\n                if ( scope.enableZoom === false ) return;\n\n                handleMouseDownDolly( event );\n\n                state = STATE.DOLLY;\n\n                break;\n\n            case scope.mouseButtons.PAN:\n\n                if ( scope.enablePan === false ) return;\n\n                handleMouseDownPan( event );\n\n                state = STATE.PAN;\n\n                break;\n\n        }\n\n        if ( state !== STATE.NONE ) {\n\n            document.addEventListener( 'mousemove', onMouseMove, false );\n            document.addEventListener( 'mouseup', onMouseUp, false );\n\n            scope.dispatchEvent( startEvent );\n\n        }\n\n    }\n\n    function onMouseMove( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n\n        switch ( state ) {\n\n            case STATE.ROTATE:\n\n                if ( scope.enableRotate === false ) return;\n\n                handleMouseMoveRotate( event );\n\n                break;\n\n            case STATE.DOLLY:\n\n                if ( scope.enableZoom === false ) return;\n\n                handleMouseMoveDolly( event );\n\n                break;\n\n            case STATE.PAN:\n\n                if ( scope.enablePan === false ) return;\n\n                handleMouseMovePan( event );\n\n                break;\n\n        }\n\n    }\n\n    function onMouseUp( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        handleMouseUp( event );\n\n        document.removeEventListener( 'mousemove', onMouseMove, false );\n        document.removeEventListener( 'mouseup', onMouseUp, false );\n\n        scope.dispatchEvent( endEvent );\n\n        state = STATE.NONE;\n\n    }\n\n    function onMouseWheel( event ) {\n\n        if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        handleMouseWheel( event );\n\n        scope.dispatchEvent( startEvent ); // not sure why these are here...\n        scope.dispatchEvent( endEvent );\n\n    }\n\n    function onKeyDown( event ) {\n\n        if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n        handleKeyDown( event );\n\n    }\n\n    function onTouchStart( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        switch ( event.touches.length ) {\n\n            case 1:    // one-fingered touch: rotate\n\n                if ( scope.enableRotate === false ) return;\n\n                handleTouchStartRotate( event );\n\n                state = STATE.TOUCH_ROTATE;\n\n                break;\n\n            case 2:    // two-fingered touch: dolly\n\n                if ( scope.enableZoom === false ) return;\n\n                handleTouchStartDolly( event );\n\n                state = STATE.TOUCH_DOLLY;\n\n                break;\n\n            case 3: // three-fingered touch: pan\n\n                if ( scope.enablePan === false ) return;\n\n                handleTouchStartPan( event );\n\n                state = STATE.TOUCH_PAN;\n\n                break;\n\n            default:\n\n                state = STATE.NONE;\n\n        }\n\n        if ( state !== STATE.NONE ) {\n\n            scope.dispatchEvent( startEvent );\n\n        }\n\n    }\n\n    function onTouchMove( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        switch ( event.touches.length ) {\n\n            case 1: // one-fingered touch: rotate\n\n                if ( scope.enableRotate === false ) return;\n                if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n                handleTouchMoveRotate( event );\n\n                break;\n\n            case 2: // two-fingered touch: dolly\n\n                if ( scope.enableZoom === false ) return;\n                if ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n                handleTouchMoveDolly( event );\n\n                break;\n\n            case 3: // three-fingered touch: pan\n\n                if ( scope.enablePan === false ) return;\n                if ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n                handleTouchMovePan( event );\n\n                break;\n\n            default:\n\n                state = STATE.NONE;\n\n        }\n\n    }\n\n    function onTouchEnd( event ) {\n\n        if ( scope.enabled === false ) return;\n\n        handleTouchEnd( event );\n\n        scope.dispatchEvent( endEvent );\n\n        state = STATE.NONE;\n\n    }\n\n    function onContextMenu( event ) {\n\n        event.preventDefault();\n\n    }\n\n    //\n\n    scope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n    scope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n    scope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n    scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n    scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n    scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n    window.addEventListener( 'keydown', onKeyDown, false );\n\n    // force an update at start\n\n    this.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\nexport { OrbitControls };\n\n\n\n// WEBPACK FOOTER //\n// ./src/controls/OrbitControls.js","<template>\n    <div style=\"width: 100%; height: 100%; margin: 0; border: 0; padding: 0;\">\n        <canvas v-if=\"suportWebGL\" ref=\"canvas\" style=\"width: 100%; height: 100%;\"></canvas>\n        <div v-else>\n            <slot>\n                Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>'\n            </slot>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport {\n    Object3D,\n    Vector2,\n    Vector3,\n    Color,\n    Scene,\n    Raycaster,\n    WebGLRenderer,\n    PerspectiveCamera,\n    AmbientLight,\n    PointLight,\n    HemisphereLight,\n    DirectionalLight\n} from 'three'\nimport { getSize, getCenter } from './util'\nimport { OrbitControls } from './controls/OrbitControls'\n\nconst suportWebGL = ( () => {\n\n    try {\n        var canvas = document.createElement( 'canvas' );\n        return !!( window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );\n    } catch ( e ) {\n        return false;\n    }\n\n} )();\n\nexport default {\n    props: {\n        src: {\n            type: String\n        },\n        width: {\n            type: Number\n        },\n        height: {\n            type: Number\n        },\n        position: {\n            type: Object,\n            default() {\n                return { x: 0, y: 0, z: 0 }\n            }\n        },\n        rotation: {\n            type: Object,\n            default() {\n                return { x: 0, y: 0, z: 0 }\n            }\n        },\n        scale: {\n            type: Object,\n            default() {\n                return { x: 1, y: 1, z: 1 }\n            }\n        },\n        lights: {\n            type: Array,\n            default() {\n                return [];\n            }\n        },\n        cameraPosition: {\n            type: Object\n        },\n        cameraRotation: {\n            type: Object\n        },\n        cameraUp: {\n            type: Object\n        },\n        cameraLookAt: {\n            type: Object\n        },\n        backgroundColor: {\n            default: 0xffffff\n        },\n        backgroundAlpha: {\n            type: Number,\n            default: 1\n        },\n        controllable: {\n            type: Boolean,\n            default: true\n        }\n    },\n    data() {\n        return {\n            suportWebGL,\n            size: {\n                width: this.width,\n                height: this.height\n            },\n            object: null,\n            raycaster: new Raycaster(),\n            mouse: new Vector2(),\n            camera: new PerspectiveCamera( 45, 1, 0.01, 100000 ),\n            scene: new Scene(),\n            wrapper: new Object3D(),\n            renderer: null,\n            controls: null,\n            allLights: [],\n            clock: typeof performance === 'undefined' ? Date : performance,\n            reqId: null    // requestAnimationFrame id\n        }\n    },\n    computed: {\n        hasListener() {\n\n            // 判断是否有鼠标事件监听，用于减少不必要的拾取判断\n            const events = this._events;\n            const result = {};\n\n            [ 'on-mousemove', 'on-mouseup', 'on-mousedown', 'on-click' ].forEach( name => {\n                result[ name ] = !!events[ name ] && events[ name ].length > 0;\n            } )\n\n            return result;\n        }\n    },\n    mounted() {\n\n        if ( this.width === undefined || this.height === undefined ) {\n            this.size = {\n                width: this.$el.offsetWidth,\n                height: this.$el.offsetHeight\n            }\n        }\n\n        this.renderer = new WebGLRenderer( { antialias: true, alpha: true, canvas: this.$refs.canvas } )\n        this.renderer.shadowMap.enabled = true;\n\n        this.scene.add( this.wrapper )\n\n        this.load();\n        this.update();\n\n        this.$el.addEventListener( 'mousedown', this.onMouseDown, false );\n        this.$el.addEventListener( 'mousemove', this.onMouseMove, false );\n        this.$el.addEventListener( 'mouseup', this.onMouseUp, false );\n        this.$el.addEventListener( 'click', this.onClick, false );\n\n        window.addEventListener( 'resize', this.onResize, false );\n\n        this.animate();\n    },\n    beforeDestroy() {\n\n        cancelAnimationFrame( this.reqId );\n\n        this.$el.removeEventListener( 'mousedown', this.onMouseDown, false );\n        this.$el.removeEventListener( 'mousemove', this.onMouseMove, false );\n        this.$el.removeEventListener( 'mouseup', this.onMouseUp, false );\n        this.$el.removeEventListener( 'click', this.onClick, false );\n\n        window.removeEventListener( 'resize', this.onResize, false );\n    },\n    watch: {\n        src() {\n            this.load();\n        },\n        rotation: {\n            deep: true,\n            handler( val ) {\n                if ( !this.object ) return;\n                this.object.rotation.set( val.x, val.y, val.z );\n            }\n        },\n        position: {\n            deep: true,\n            handler( val ) {\n                if ( !this.object ) return;\n                this.object.position.set( val.x, val.y, val.z );\n            }\n        },\n        scale: {\n            deep: true,\n            handler( val ) {\n                if ( !this.object ) return;\n                this.object.scale.set( val.x, val.y, val.z );\n            }\n        },\n        lights: {\n            deep: true,\n            handler( val, oldVal ) {\n                this.updateLights();\n            }\n        },\n        size: {\n            deep: true,\n            handler( val ) {\n                this.updateCamera();\n                this.updateRenderer();\n            }\n        },\n        controllable() {\n            this.updateControls();\n        },\n        backgroundAlpha() {\n            this.updateRenderer();\n        },\n        backgroundColor() {\n            this.updateRenderer();\n        }\n    },\n    methods: {\n        onResize() {\n\n            if ( this.width === undefined || this.height === undefined ) {\n\n                this.$nextTick( () => {\n                    this.size = {\n                        width: this.$el.offsetWidth,\n                        height: this.$el.offsetHeight\n                    }\n                } )\n\n            }\n        },\n        onMouseDown( event ) {\n\n            if ( !this.hasListener[ 'on-mousedown' ] ) return;\n\n            const intersected = this.pick( event.clientX, event.clientY );\n            this.$emit( 'on-mousedown', intersected );\n\n        },\n        onMouseMove( event ) {\n\n            if ( !this.hasListener[ 'on-mousemove' ] ) return;\n\n            const intersected = this.pick( event.clientX, event.clientY );\n            this.$emit( 'on-mousemove', intersected );\n\n        },\n        onMouseUp( event ) {\n\n            if ( !this.hasListener[ 'on-mouseup' ] ) return;\n\n            const intersected = this.pick( event.clientX, event.clientY );\n            this.$emit( 'on-mouseup', intersected );\n\n        },\n        onClick( event ) {\n\n            if ( !this.hasListener[ 'on-click' ] ) return;\n\n            const intersected = this.pick( event.clientX, event.clientY );\n            this.$emit( 'on-click', intersected );\n\n        },\n        pick( x, y ) {\n\n            if ( !this.object ) return;\n\n            const rect = this.$el.getBoundingClientRect();\n\n            x -= rect.left;\n            y -= rect.top;\n\n            this.mouse.x = ( x / this.size.width ) * 2 - 1;\n            this.mouse.y = -( y / this.size.height ) * 2 + 1;\n\n            this.raycaster.setFromCamera( this.mouse, this.camera );\n\n            const intersects = this.raycaster.intersectObject( this.object, true );\n\n            return ( intersects && intersects.length ) > 0 ? intersects[ 0 ] : null;\n\n        },\n        update() {\n\n            this.updateRenderer();\n            this.updateCamera();\n            this.updateLights();\n            this.updateControls();\n\n        },\n        updateModel() {\n\n            const object = this.object;\n\n            if ( !object ) return;\n\n            const position = this.position;\n            const rotation = this.rotation;\n            const scale = this.scale;\n\n            object.position.set( position.x, position.y, position.z );\n            object.rotation.set( rotation.x, rotation.y, rotation.z );\n            object.scale.set( scale.x, scale.y, scale.z );\n\n        },\n        updateRenderer() {\n\n            const renderer = this.renderer;\n\n            renderer.setSize( this.size.width, this.size.height );\n            renderer.setPixelRatio( window.devicePixelRatio || 1 );\n            renderer.setClearColor( new Color( this.backgroundColor ).getHex() );\n            renderer.setClearAlpha( this.backgroundAlpha );\n        },\n        updateCamera() {\n\n            const camera = this.camera;\n            const object = this.object;\n\n            camera.aspect = this.size.width / this.size.height;\n            camera.updateProjectionMatrix();\n\n            if ( !this.cameraLookAt && !this.cameraPosition && !this.cameraRotation && !this.cameraUp ) {\n\n                if ( !object ) return;\n\n                const distance = getSize( object ).length();\n\n                camera.position.set( 0, 0, 0 );\n                camera.position.z = distance;\n                camera.lookAt( new Vector3() );\n\n            } else {\n\n                camera.position.set( this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z )\n                camera.rotation.set( this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z )\n                camera.up.set( this.cameraUp.x, this.cameraUp.y, this.cameraUp.z )\n\n                camera.lookAt( new Vector3( this.cameraLookAt.x, this.cameraLookAt.y, this.cameraLookAt.z ) )\n\n            }\n\n        },\n        updateLights() {\n\n            this.scene.remove.apply( this.scene, this.allLights );\n\n            this.allLights = [];\n\n            this.lights.forEach( item => {\n\n                if ( !item.type ) return;\n\n                const type = item.type.toLowerCase();\n\n                let light = null;\n\n                if ( type === 'ambient' || type === 'ambientlight' ) {\n\n                    const color = item.color || 0x404040;\n                    const intensity = item.intensity || 1;\n\n                    light = new AmbientLight( color, intensity );\n\n                } else if ( type === 'point' || type === 'pointlight' ) {\n\n                    const color = item.color || 0xffffff;\n                    const intensity = item.intensity || 1;\n                    const distance = item.distance || 0;\n                    const decay = item.decay || 1;\n\n                    light = new PointLight( color, intensity, distance, decay );\n\n                    if ( item.position ) {\n                        light.position.copy( item.position );\n                    }\n\n                } else if ( type === 'directional' || type === 'directionallight' ) {\n\n                    const color = item.color || 0xffffff;\n                    const intensity = item.intensity || 1;\n\n                    light = new DirectionalLight( color, intensity );\n\n                    if ( item.position ) {\n                        light.position.copy( item.position );\n                    }\n\n                    if ( item.target ) {\n                        light.target.copy( item.target );\n                    }\n\n                } else if ( type === 'hemisphere' || type === 'hemispherelight' ) {\n\n                    const skyColor = item.skyColor || 0xffffff;\n                    const groundColor = item.groundColor || 0xffffff;\n                    const intensity = item.intensity || 1;\n\n                    light = new HemisphereLight( skyColor, groundColor, intensity );\n\n                    if ( item.position ) {\n                        light.position.copy( item.position );\n                    }\n\n                }\n\n                this.allLights.push( light );\n                this.scene.add( light );\n\n            } )\n\n        },\n        updateControls() {\n\n            if ( this.controllable && this.controls ) return;\n\n            if ( this.controllable ) {\n\n                if ( this.controls ) return;\n\n                this.controls = new OrbitControls( this.camera, this.$el );\n                this.controls.type = 'orbit';\n\n            } else {\n\n                if ( this.controls ) {\n\n                    this.controls.dispose();\n                    this.controls = null;\n\n                }\n\n            }\n\n        },\n        load() {\n\n            if ( !this.src ) return;\n\n            if ( this.object ) {\n\n                this.wrapper.remove( this.object );\n\n            }\n\n            this.loader.load( this.src, ( ...args ) => {\n\n                const object = this.getObject( ...args )\n\n                if ( this.process ) {\n                    this.process( object );\n                }\n\n                this.addObject( object )\n\n                this.$emit( 'on-load' );\n\n            }, xhr => {\n\n                this.$emit( 'on-progress', xhr );\n\n            }, err => {\n\n                this.$emit( 'on-error', err );\n\n            } );\n\n        },\n        getObject( object ) {\n\n            return object\n\n        },\n        addObject( object ) {\n\n            const center = getCenter( object )\n\n            // correction position\n            this.wrapper.position.copy( center.negate() )\n\n            this.object = object\n            this.wrapper.add( object )\n\n            this.updateCamera()\n            this.updateModel()\n\n        },\n        animate() {\n            this.reqId = requestAnimationFrame( this.animate );\n            this.render();\n        },\n        render() {\n\n            this.renderer.render( this.scene, this.camera )\n\n        }\n    }\n}\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/model-mixin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"margin\":\"0\",\"border\":\"0\",\"padding\":\"0\"}},[(_vm.suportWebGL)?_c('canvas',{ref:\"canvas\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}):_c('div',[_vm._t(\"default\",[_vm._v(\"\\n            Your browser does not seem to support \"),_c('a',{staticStyle:{\"color\":\"#000\"},attrs:{\"href\":\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\"}},[_vm._v(\"WebGL\")]),_vm._v(\".\"),_c('br'),_vm._v(\"'\\n        \")])],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0da609ea\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/model-mixin.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./model-mixin.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./model-mixin.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0da609ea\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./model-mixin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-mixin.vue\n// module id = null\n// module chunks = ","<script>\nimport { OBJLoader } from './loaders/OBJLoader'\nimport { MTLLoader } from './loaders/MTLLoader'\nimport { toIndexed } from './util'\nimport mixin from './model-mixin.vue'\n\nimport * as THREE from 'three'\nimport { getSize, getCenter } from './util'\n\nexport default {\n    name: 'model-obj',\n    mixins: [ mixin ],\n    props: {\n        lights: {\n            type: Array,\n            default() {\n                return [\n                    {\n                        type: 'HemisphereLight',\n                        position: { x: 0, y: 1, z: 0 },\n                        skyColor: 0xaaaaff,\n                        groundColor: 0x806060,\n                        intensity: 0.2\n                    },\n                    {\n                        type: 'DirectionalLight',\n                        position: { x: 1, y: 1, z: 1 },\n                        color: 0xffffff,\n                        intensity: 0.8\n                    }\n                ]\n            }\n        },\n        smoothing: {\n            type: Boolean,\n            default: false\n        },\n        mtlPath: {\n            type: String\n        },\n        mtl: {\n            type: String\n        }\n    },\n    data() {\n        return {\n            loader: new OBJLoader(),\n            mtlLoader: new MTLLoader()\n        }\n    },\n    watch: {\n        mtl() {\n            this.load();\n        }\n    },\n    methods: {\n        process( object ) {\n            if ( this.smoothing ) {\n                object.traverse( child => {\n                    if ( child.geometry ) {\n                        child.geometry = toIndexed( child.geometry );\n                        child.geometry.computeVertexNormals();\n                    }\n                } )\n            }\n        },\n        load() {\n\n            if ( !this.src ) return;\n\n            if ( this.object ) {\n                this.wrapper.remove( this.object );\n            }\n\n            const onLoad = object => {\n\n                if ( this.process ) {\n                    this.process( object );\n                }\n\n                this.addObject( object )\n\n                this.$emit( 'on-load' );\n\n            }\n\n            const onProgress = xhr => {\n\n                this.$emit( 'on-progress', xhr );\n\n            }\n\n            const onError = err => {\n\n                this.$emit( 'on-error', err );\n\n            }\n\n            if ( this.mtl ) {\n\n                let mtlPath = this.mtlPath;\n                let mtlSrc = this.mtl;\n\n                if ( !this.mtlPath ) {\n\n                    const result = /^(.*\\/)([^/]*)$/.exec( this.mtl );\n\n                    if ( result ) {\n                        mtlPath = result[ 1 ];\n                        mtlSrc = result[ 2 ];\n                    }\n\n                }\n\n                if ( mtlPath ) {\n                    this.mtlLoader.setPath( mtlPath )\n                }\n\n                this.mtlLoader.load( mtlSrc, materials => {\n\n                    materials.preload();\n\n                    this.loader.setMaterials( materials );\n\n                    this.loader.load( this.src, onLoad, onProgress, onError );\n\n                }, () => {}, onError );\n\n            } else {\n\n                this.loader.load( this.src, onLoad, onProgress, onError );\n\n            }\n\n        },\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/model-obj.vue","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./model-obj.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./model-obj.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-obj.vue\n// module id = null\n// module chunks = ","<template>\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\n</template>\n<script>\n    // import { ModelObj } from 'vue-3d-model'\n    import ModelObj from '../src/model-obj.vue'\n\n    export default {\n        components: { ModelObj }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// examples/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('model-obj',{attrs:{\"src\":\"static/models/obj/tree.obj\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-68df1a9d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./examples/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68df1a9d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport App from './App.vue'\n// import router from './router'\n\nnew Vue( {\n    el: '#app',\n    // router,\n    render: h => h( App )\n} )\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/index.js\n// module id = null\n// module chunks = "],"sourceRoot":""}